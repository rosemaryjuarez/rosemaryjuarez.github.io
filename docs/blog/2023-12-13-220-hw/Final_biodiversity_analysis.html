<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Biodiversity Intactness Index change in Phoenix subdivision</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">about me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog_settings.html" rel="" target="">
 <span class="menu-text">blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html" rel="" target="">
 <span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">background</a></li>
  <li><a href="#for-year-2020" id="toc-for-year-2020" class="nav-link" data-scroll-target="#for-year-2020">for year 2020</a></li>
  <li><a href="#extract" id="toc-extract" class="nav-link" data-scroll-target="#extract">extract</a></li>
  <li><a href="#question-2" id="toc-question-2" class="nav-link" data-scroll-target="#question-2">Question 2</a></li>
  <li><a href="#for-question-3-map-of-phoenix" id="toc-for-question-3-map-of-phoenix" class="nav-link" data-scroll-target="#for-question-3-map-of-phoenix">For Question 3: map of Phoenix</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Biodiversity Intactness Index change in Phoenix subdivision</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="background" class="level3">
<h3 class="anchored" data-anchor-id="background">background</h3>
<p>In 2021, Maricopa County, which encompasses the Phoenix metropolitan area, was the US county that added the most developed land since 2001 [1]. Urban sprawl creates pressure on biodiversity and natural areas. In this task you will explore a dataset showing values for a biodiversity intactness index (BII) [2, 3] to find changes in this BII around the Phoenix area from 2017 to 2020.</p>
<p>Instructions</p>
<ol type="1">
<li>Data access:</li>
</ol>
<ul>
<li>a: BII data: This dataset is part of the MPC STAC catalog. You will need to access the ‘io-biodiversity’ collection and look for the 2017 and 2020 rasters covering Phoenix subdivision. You can use the following coordinates for a bounding box: [-112.826843, 32.974108, -111.184387, 33.863574]</li>
<li>b: Phoenix subdivision: You will find the Phoenix subdivision polygon in the Census County Subdivision shapefiles for Arizona: https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2022&amp;layergroup=County+Subdivisions</li>
</ul>
<ol start="2" type="1">
<li><p>Create a map showing the Phoenix subdivision within an appropriate geographical context. You may use any vector datasets to create your map. (You can also check out the contextily package.)</p></li>
<li><p>Calculate the percentage of area of the Phoenix subdivision with a BII of at least 0.75 in 2017. Obtain the same calculation for 2020. HINTS (useful or not depending on your workflow): Let x be an xarray.DataArray. We can select all the values greater than n by simply doing x&gt;n.&nbsp;This will return an xarray.DataArray with boolean values. You can then transform this into an xarray.DataArray with 0s and 1s (instead of True/False) by casting it as type ‘int’. To calculate the percentage area: (pixels in class)/(total pixels) * 100.</p></li>
<li><p>Create a visualization showing the area with BII&gt;=0.75 in 2017 that was lost by 2020. Here’s an example:</p></li>
</ol>
<div class="cell" data-tags="[]" data-execution_count="189">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#calling in all the packages i might need</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> xarray <span class="im">as</span> xr</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> rioxarray <span class="im">as</span> rioxr</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> shapely.geometry <span class="im">import</span> box</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> rasterio.features <span class="im">import</span> rasterize <span class="co"># for rasterizing polygons</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> rasterio.features <span class="im">import</span> shapes</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pystac_client</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> planetary_computer</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.patches <span class="im">as</span> mpatches <span class="co"># for creating legends</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># used to access STAC catalogs</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pystac_client <span class="im">import</span> Client</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co"># used to sign items from the MPC STAC catalog</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> planetary_computer</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> shapely.geometry <span class="im">import</span> Polygon</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"># ----- other libraries for nice ouputs</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> Image</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geogif <span class="im">import</span> gif  <span class="co"># to create gif</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="90">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#first going to call in arizona shapefile</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="91">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>ar <span class="op">=</span> gpd.read_file(<span class="st">'data/tl_2022_04_cousub.shp'</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>ar.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="91">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">STATEFP</th>
<th data-quarto-table-cell-role="th">COUNTYFP</th>
<th data-quarto-table-cell-role="th">COUSUBFP</th>
<th data-quarto-table-cell-role="th">COUSUBNS</th>
<th data-quarto-table-cell-role="th">GEOID</th>
<th data-quarto-table-cell-role="th">NAME</th>
<th data-quarto-table-cell-role="th">NAMELSAD</th>
<th data-quarto-table-cell-role="th">LSAD</th>
<th data-quarto-table-cell-role="th">CLASSFP</th>
<th data-quarto-table-cell-role="th">MTFCC</th>
<th data-quarto-table-cell-role="th">CNECTAFP</th>
<th data-quarto-table-cell-role="th">NECTAFP</th>
<th data-quarto-table-cell-role="th">NCTADVFP</th>
<th data-quarto-table-cell-role="th">FUNCSTAT</th>
<th data-quarto-table-cell-role="th">ALAND</th>
<th data-quarto-table-cell-role="th">AWATER</th>
<th data-quarto-table-cell-role="th">INTPTLAT</th>
<th data-quarto-table-cell-role="th">INTPTLON</th>
<th data-quarto-table-cell-role="th">geometry</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>04</td>
<td>005</td>
<td>91198</td>
<td>01934931</td>
<td>0400591198</td>
<td>Flagstaff</td>
<td>Flagstaff CCD</td>
<td>22</td>
<td>Z5</td>
<td>G4040</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>S</td>
<td>12231052883</td>
<td>44653332</td>
<td>+35.1066114</td>
<td>-111.3662497</td>
<td>POLYGON ((-112.13370 35.85596, -112.13368 35.8...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>04</td>
<td>005</td>
<td>91838</td>
<td>01934953</td>
<td>0400591838</td>
<td>Kaibab Plateau</td>
<td>Kaibab Plateau CCD</td>
<td>22</td>
<td>Z5</td>
<td>G4040</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>S</td>
<td>7228864534</td>
<td>29327221</td>
<td>+36.5991097</td>
<td>-112.1368033</td>
<td>POLYGON ((-112.66039 36.53941, -112.66033 36.5...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>04</td>
<td>005</td>
<td>91683</td>
<td>01934950</td>
<td>0400591683</td>
<td>Hualapai</td>
<td>Hualapai CCD</td>
<td>22</td>
<td>Z5</td>
<td>G4040</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>S</td>
<td>2342313339</td>
<td>3772690</td>
<td>+35.9271665</td>
<td>-113.1170408</td>
<td>POLYGON ((-113.35416 36.04097, -113.35416 36.0...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>04</td>
<td>023</td>
<td>92295</td>
<td>01934961</td>
<td>0402392295</td>
<td>Nogales</td>
<td>Nogales CCD</td>
<td>22</td>
<td>Z5</td>
<td>G4040</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>S</td>
<td>1762322938</td>
<td>2382710</td>
<td>+31.4956020</td>
<td>-111.0171332</td>
<td>POLYGON ((-111.36692 31.52136, -111.36316 31.5...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>04</td>
<td>023</td>
<td>92550</td>
<td>01934966</td>
<td>0402392550</td>
<td>Patagonia</td>
<td>Patagonia CCD</td>
<td>22</td>
<td>Z5</td>
<td>G4040</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>S</td>
<td>1439530300</td>
<td>685527</td>
<td>+31.5664619</td>
<td>-110.6410279</td>
<td>POLYGON ((-110.96273 31.68695, -110.96251 31.6...</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="92">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#now justchanging crs to make sure it looks good on epsg 4326</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>ar <span class="op">=</span> ar.to_crs(<span class="dv">4326</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="93">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ar.crs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="93">
<pre><code>&lt;Geographic 2D CRS: EPSG:4326&gt;
Name: WGS 84
Axis Info [ellipsoidal]:
- Lat[north]: Geodetic latitude (degree)
- Lon[east]: Geodetic longitude (degree)
Area of Use:
- name: World.
- bounds: (-180.0, -90.0, 180.0, 90.0)
Datum: World Geodetic System 1984 ensemble
- Ellipsoid: WGS 84
- Prime Meridian: Greenwich</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="94">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>phoenix <span class="op">=</span> ar[ar.NAME <span class="op">==</span> <span class="st">'Phoenix'</span>]</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>phoenix.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="94">
<pre><code>&lt;Axes: &gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-7-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="95">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>catalog <span class="op">=</span> pystac_client.Client.<span class="bu">open</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'https://planetarycomputer.microsoft.com/api/stac/v1'</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    modifier<span class="op">=</span>planetary_computer.sign_inplace,)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="96">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#info and bio, ask yutian if we need background info for this</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>bio_collection <span class="op">=</span> catalog.get_child(<span class="st">'io-biodiversity'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>bio_collection</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="96">


<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
    <div style="
        width: 24px;
        height: 24px;
        background-color: #E1E1E1;
        border: 3px solid #9D9D9D;
        border-radius: 5px;
        position: absolute;">
    </div>
    <div>
        <details style="margin-left: 48px;">
            <summary style="margin-bottom: 20px;">
                <h3 style="margin-bottom: 0px; display: inline;" class="anchored">
                    CollectionClient: io-biodiversity
                </h3>
            </summary>
            
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<colgroup>
<col style="width: 100%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>id:</strong> io-biodiversity</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Biodiversity Intactness</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>description:</strong> Generated by [Impact Observatory](https://www.impactobservatory.com/), in collaboration with [Vizzuality](https://www.vizzuality.com/), these datasets estimate terrestrial Biodiversity Intactness as 100-meter gridded maps for the years 2017-2020. Maps depicting the intactness of global biodiversity have become a critical tool for spatial planning and management, monitoring the extent of biodiversity across Earth, and identifying critical remaining intact habitat. Yet, these maps are often years out of date by the time they are available to scientists and policy-makers. The datasets in this STAC Collection build on past studies that map Biodiversity Intactness using the [PREDICTS database](https://onlinelibrary.wiley.com/doi/full/10.1002/ece3.2579) of spatially referenced observations of biodiversity across 32,000 sites from over 750 studies. The approach differs from previous work by modeling the relationship between observed biodiversity metrics and contemporary, global, geospatial layers of human pressures, with the intention of providing a high resolution monitoring product into the future. Biodiversity intactness is estimated as a combination of two metrics: Abundance, the quantity of individuals, and Compositional Similarity, how similar the composition of species is to an intact baseline. Linear mixed effects models are fit to estimate the predictive capacity of spatial datasets of human pressures on each of these metrics and project results spatially across the globe. These methods, as well as comparisons to other leading datasets and guidance on interpreting results, are further explained in a methods [white paper](https://ai4edatasetspublicassets.blob.core.windows.net/assets/pdfs/io-biodiversity/Biodiversity_Intactness_whitepaper.pdf) entitled “Global 100m Projections of Biodiversity Intactness for the years 2017-2020.” All years are available under a Creative Commons BY-4.0 license.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>providers:</strong>
<ul>
<li><div>
<a href="https://www.impactobservatory.com/">Impact Observatory</a> (<em>processor, producer, licensor</em>)
</div></li>
<li><div>
<a href="https://www.vizzuality.com/">Vizzuality</a> (<em>processor</em>)
</div></li>
<li><div>
<a href="https://planetarycomputer.microsoft.com">Microsoft</a> (<em>host</em>)
</div></li>
</ul></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> Collection</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>item_assets:</strong> {'data': {'type': 'image/tiff; application=geotiff; profile=cloud-optimized', 'roles': ['data'], 'title': 'Biodiversity Intactness', 'description': 'Terrestrial biodiversity intactness at 100m resolution', 'raster:bands': [{'sampling': 'area', 'data_type': 'float32', 'spatial_resolution': 100}]}}</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>msft:region:</strong> westeurope</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>msft:container:</strong> impact</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>msft:storage_account:</strong> pcdata01euw</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>msft:short_description:</strong> Global terrestrial biodiversity intactness at 100m resolution for years 2017-2020</td>
</tr>
</tbody>
</table>
<section id="stac-extensions" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" class="anchored" data-anchor-id="stac-extensions">STAC Extensions</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/item-assets/v1.0.0/schema.json">https://stac-extensions.github.io/item-assets/v1.0.0/schema.json</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/raster/v1.0.0/schema.json">https://stac-extensions.github.io/raster/v1.0.0/schema.json</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/table/v1.2.0/schema.json">https://stac-extensions.github.io/table/v1.2.0/schema.json</a></td>
</tr>
</tbody>
</table>
</section>
<section id="items" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" class="anchored">Items</h4>
<p><em>Only the first item shown</em></p>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #DBF5FF;
        border: 3px solid #4CC9FF;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="item-bii_2020_85.0_99.9940942766454_cog" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" class="anchored" data-anchor-id="item-bii_2020_85.0_99.9940942766454_cog">Item: bii_2020_85.0_99.9940942766454_cog</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>id:</strong> bii_2020_85.0_99.9940942766454_cog</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>bbox:</strong> [99.9940943, 77.9185806, 107.17343, 79.842772]</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>datetime:</strong> None</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>proj:epsg:</strong> 4326</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>proj:shape:</strong> [7992, 7992]</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>end_datetime:</strong> 2020-12-31T23:59:59Z</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>proj:transform:</strong> [0.0008983152841195215, 0.0, 99.9940942766454, 0.0, -0.0008983152841195215, 85.0, 0.0, 0.0, 1.0]</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>start_datetime:</strong> 2020-01-01T00:00:00Z</td>
</tr>
</tbody>
</table>
<section id="stac-extensions-1" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" class="anchored" data-anchor-id="stac-extensions-1">STAC Extensions</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/projection/v1.0.0/schema.json">https://stac-extensions.github.io/projection/v1.0.0/schema.json</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/raster/v1.1.0/schema.json">https://stac-extensions.github.io/raster/v1.1.0/schema.json</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/version/v1.1.0/schema.json">https://stac-extensions.github.io/version/v1.1.0/schema.json</a></td>
</tr>
</tbody>
</table>
</section>
<section id="assets" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" class="anchored">Assets</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-biodiversity-intactness" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" class="anchored" data-anchor-id="asset-biodiversity-intactness">Asset: Biodiversity Intactness</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://pcdata01euw.blob.core.windows.net/impact/bii-v1/bii_2020/bii_2020_85.0_99.9940942766454_cog.tif</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> image/tiff; application=geotiff; profile=cloud-optimized</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> Biodiversity Intactness</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>description:</strong> Terrestrial biodiversity intactness at 100m resolution</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>roles:</strong> ['data']</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>owner:</strong> bii_2020_85.0_99.9940942766454_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>version:</strong> v1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>raster:bands:</strong> [{'sampling': 'area', 'data_type': 'float32', 'spatial_resolution': 100}]</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-tilejson-with-default-rendering" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" class="anchored" data-anchor-id="asset-tilejson-with-default-rendering">Asset: TileJSON with default rendering</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/tilejson.json?collection=io-biodiversity&amp;item=bii_2020_85.0_99.9940942766454_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> TileJSON with default rendering</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>roles:</strong> ['tiles']</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>owner:</strong> bii_2020_85.0_99.9940942766454_cog</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-rendered-preview" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" class="anchored" data-anchor-id="asset-rendered-preview">Asset: Rendered preview</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/preview.png?collection=io-biodiversity&amp;item=bii_2020_85.0_99.9940942766454_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> image/png</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> Rendered preview</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>roles:</strong> ['overview']</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>owner:</strong> bii_2020_85.0_99.9940942766454_cog</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>rel:</strong> preview</td>
</tr>
</tbody>
</table>
</section>
</div>
</section>
<section id="links" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" class="anchored" data-anchor-id="links">Links</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> collection</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-1" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link-1">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> parent</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-microsoft-planetary-computer-stac-api" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link-microsoft-planetary-computer-stac-api">Link: Microsoft Planetary Computer STAC API</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> root</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Microsoft Planetary Computer STAC API</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-2" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link-2">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> self</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity/items/bii_2020_85.0_99.9940942766454_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/geo+json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-map-of-item" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link-map-of-item">Link: Map of item</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> preview</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/map?collection=io-biodiversity&amp;item=bii_2020_85.0_99.9940942766454_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> text/html</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Map of item</td>
</tr>
</tbody>
</table>
</section>
</div>
</section>
</section>
</div>
</section>
<section id="links-1" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" class="anchored" data-anchor-id="links-1">Links</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-3" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link-3">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> items</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity/items</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/geo+json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-microsoft-planetary-computer-stac-api-1" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link-microsoft-planetary-computer-stac-api-1">Link: Microsoft Planetary Computer STAC API</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> root</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Microsoft Planetary Computer STAC API</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-cc-by-4.0" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link-cc-by-4.0">Link: CC BY 4.0</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> license</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://creativecommons.org/licenses/by/4.0/</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> text/html</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> CC BY 4.0</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-technical-white-paper" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link-technical-white-paper">Link: Technical White Paper</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> about</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://ai4edatasetspublicassets.blob.core.windows.net/assets/pdfs/io-biodiversity/Biodiversity_Intactness_whitepaper.pdf</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/pdf</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Technical White Paper</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-human-readable-dataset-overview-and-reference" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link-human-readable-dataset-overview-and-reference">Link: Human readable dataset overview and reference</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> describedby</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/dataset/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> text/html</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Human readable dataset overview and reference</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-4" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link-4">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> self</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-microsoft-planetary-computer-stac-api-2" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" class="anchored" data-anchor-id="link-microsoft-planetary-computer-stac-api-2">Link: Microsoft Planetary Computer STAC API</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> parent</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Microsoft Planetary Computer STAC API</td>
</tr>
</tbody>
</table>
</section>
</div>
</section>
<section id="assets-1" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" class="anchored">Assets</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-biodiversity-intactness-1" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" class="anchored" data-anchor-id="asset-biodiversity-intactness-1">Asset: Biodiversity Intactness</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://ai4edatasetspublicassets.blob.core.windows.net/assets/pc_thumbnails/io-biodiversity-thumb.png</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Biodiversity Intactness</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>owner:</strong> io-biodiversity</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>media_type:</strong> image/png</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-geoparquet-stac-items" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" class="anchored" data-anchor-id="asset-geoparquet-stac-items">Asset: GeoParquet STAC items</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> abfs://items/io-biodiversity.parquet</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> application/x-parquet</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> GeoParquet STAC items</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>description:</strong> Snapshot of the collection's STAC items exported to GeoParquet format.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>roles:</strong> ['stac-items']</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>owner:</strong> io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>msft:partition_info:</strong> {'is_partitioned': False}</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>table:storage_options:</strong> {'account_name': 'pcstacitems'}</td>
</tr>
</tbody>
</table>
</section>
</div>

        </section></details>
    </div>
</div>
            
        
    

        
    </div>
</div>
</section>
</main></div>

<div class="cell" data-tags="[]" data-execution_count="97">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bounding box for search we are interessted with</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>bbox <span class="op">=</span> [<span class="op">-</span><span class="fl">112.826843</span>, <span class="fl">32.974108</span>, <span class="op">-</span><span class="fl">111.184387</span>, <span class="fl">33.863574</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="98">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># catalog search</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>search <span class="op">=</span> catalog.search(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    collections <span class="op">=</span> [<span class="st">'io-biodiversity'</span>],</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    bbox <span class="op">=</span> bbox)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>search</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="98">
<pre><code>&lt;pystac_client.item_search.ItemSearch at 0x728165522e10&gt;</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="99">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#searching how many items are in the  collection</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>items <span class="op">=</span> search.item_collection()</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(items) <span class="co">#there are 4 items!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="99">
<pre><code>4</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="100">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>items</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="100">


<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
    <div style="
        width: 24px;
        height: 24px;
        background-color: #E1E1E1;
        border: 3px solid #9D9D9D;
        border-radius: 5px;
        position: absolute;">
    </div>
    <div>
        <details style="margin-left: 48px;">
            <summary style="margin-bottom: 20px;">
                <h3 style="margin-bottom: 0px; display: inline;">
                    ItemCollection
                </h3>
            </summary>
            
<section id="items" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;">Items</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #DBF5FF;
        border: 3px solid #4CC9FF;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="item-bii_2020_34.74464974521749_-115.38597824385106_cog" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="item-bii_2020_34.74464974521749_-115.38597824385106_cog">Item: bii_2020_34.74464974521749_-115.38597824385106_cog</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>id:</strong> bii_2020_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>bbox:</strong> [-115.3859782, 27.565314, -108.2066425, 34.7446497]</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>datetime:</strong> None</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>proj:epsg:</strong> 4326</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>proj:shape:</strong> [7992, 7992]</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>end_datetime:</strong> 2020-12-31T23:59:59Z</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>proj:transform:</strong> [0.0008983152841195215, 0.0, -115.38597824385106, 0.0, -0.0008983152841195215, 34.74464974521749, 0.0, 0.0, 1.0]</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>start_datetime:</strong> 2020-01-01T00:00:00Z</td>
</tr>
</tbody>
</table>
<section id="stac-extensions" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" data-anchor-id="stac-extensions">STAC Extensions</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/projection/v1.0.0/schema.json">https://stac-extensions.github.io/projection/v1.0.0/schema.json</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/raster/v1.1.0/schema.json">https://stac-extensions.github.io/raster/v1.1.0/schema.json</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/version/v1.1.0/schema.json">https://stac-extensions.github.io/version/v1.1.0/schema.json</a></td>
</tr>
</tbody>
</table>
</section>
<section id="assets" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;">Assets</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-biodiversity-intactness" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-biodiversity-intactness">Asset: Biodiversity Intactness</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://pcdata01euw.blob.core.windows.net/impact/bii-v1/bii_2020/bii_2020_34.74464974521749_-115.38597824385106_cog.tif?st=2023-12-12T19%3A43%3A59Z&amp;se=2023-12-20T19%3A43%3A59Z&amp;sp=rl&amp;sv=2021-06-08&amp;sr=c&amp;skoid=c85c15d6-d1ae-42d4-af60-e2ca0f81359b&amp;sktid=72f988bf-86f1-41af-91ab-2d7cd011db47&amp;skt=2023-12-13T19%3A43%3A58Z&amp;ske=2023-12-20T19%3A43%3A58Z&amp;sks=b&amp;skv=2021-06-08&amp;sig=c9o2oldqLDnPtyq050qwnglDu/lRO9wgwdV5GP/OmqQ%3D</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> image/tiff; application=geotiff; profile=cloud-optimized</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> Biodiversity Intactness</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>description:</strong> Terrestrial biodiversity intactness at 100m resolution</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>roles:</strong> ['data']</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>owner:</strong> bii_2020_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>version:</strong> v1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>raster:bands:</strong> [{'sampling': 'area', 'data_type': 'float32', 'spatial_resolution': 100}]</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-tilejson-with-default-rendering" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-tilejson-with-default-rendering">Asset: TileJSON with default rendering</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/tilejson.json?collection=io-biodiversity&amp;item=bii_2020_34.74464974521749_-115.38597824385106_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> TileJSON with default rendering</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>roles:</strong> ['tiles']</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>owner:</strong> bii_2020_34.74464974521749_-115.38597824385106_cog</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-rendered-preview" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-rendered-preview">Asset: Rendered preview</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/preview.png?collection=io-biodiversity&amp;item=bii_2020_34.74464974521749_-115.38597824385106_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> image/png</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> Rendered preview</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>roles:</strong> ['overview']</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>owner:</strong> bii_2020_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>rel:</strong> preview</td>
</tr>
</tbody>
</table>
</section>
</div>
</section>
<section id="links" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" data-anchor-id="links">Links</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> collection</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-1" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-1">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> parent</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-microsoft-planetary-computer-stac-api" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-microsoft-planetary-computer-stac-api">Link: Microsoft Planetary Computer STAC API</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> root</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Microsoft Planetary Computer STAC API</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-2" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-2">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> self</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity/items/bii_2020_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/geo+json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-map-of-item" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-map-of-item">Link: Map of item</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> preview</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/map?collection=io-biodiversity&amp;item=bii_2020_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> text/html</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Map of item</td>
</tr>
</tbody>
</table>
</section>
</div>
</section>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #DBF5FF;
        border: 3px solid #4CC9FF;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="item-bii_2019_34.74464974521749_-115.38597824385106_cog" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="item-bii_2019_34.74464974521749_-115.38597824385106_cog">Item: bii_2019_34.74464974521749_-115.38597824385106_cog</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>id:</strong> bii_2019_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>bbox:</strong> [-115.3859782, 27.565314, -108.2066425, 34.7446497]</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>datetime:</strong> None</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>proj:epsg:</strong> 4326</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>proj:shape:</strong> [7992, 7992]</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>end_datetime:</strong> 2019-12-31T23:59:59Z</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>proj:transform:</strong> [0.0008983152841195215, 0.0, -115.38597824385106, 0.0, -0.0008983152841195215, 34.74464974521749, 0.0, 0.0, 1.0]</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>start_datetime:</strong> 2019-01-01T00:00:00Z</td>
</tr>
</tbody>
</table>
<section id="stac-extensions-1" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" data-anchor-id="stac-extensions-1">STAC Extensions</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/projection/v1.0.0/schema.json">https://stac-extensions.github.io/projection/v1.0.0/schema.json</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/raster/v1.1.0/schema.json">https://stac-extensions.github.io/raster/v1.1.0/schema.json</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/version/v1.1.0/schema.json">https://stac-extensions.github.io/version/v1.1.0/schema.json</a></td>
</tr>
</tbody>
</table>
</section>
<section id="assets-1" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;">Assets</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-biodiversity-intactness-1" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-biodiversity-intactness-1">Asset: Biodiversity Intactness</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://pcdata01euw.blob.core.windows.net/impact/bii-v1/bii_2019/bii_2019_34.74464974521749_-115.38597824385106_cog.tif?st=2023-12-12T19%3A43%3A59Z&amp;se=2023-12-20T19%3A43%3A59Z&amp;sp=rl&amp;sv=2021-06-08&amp;sr=c&amp;skoid=c85c15d6-d1ae-42d4-af60-e2ca0f81359b&amp;sktid=72f988bf-86f1-41af-91ab-2d7cd011db47&amp;skt=2023-12-13T19%3A43%3A58Z&amp;ske=2023-12-20T19%3A43%3A58Z&amp;sks=b&amp;skv=2021-06-08&amp;sig=c9o2oldqLDnPtyq050qwnglDu/lRO9wgwdV5GP/OmqQ%3D</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> image/tiff; application=geotiff; profile=cloud-optimized</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> Biodiversity Intactness</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>description:</strong> Terrestrial biodiversity intactness at 100m resolution</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>roles:</strong> ['data']</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>owner:</strong> bii_2019_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>version:</strong> v1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>raster:bands:</strong> [{'sampling': 'area', 'data_type': 'float32', 'spatial_resolution': 100}]</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-tilejson-with-default-rendering-1" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-tilejson-with-default-rendering-1">Asset: TileJSON with default rendering</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/tilejson.json?collection=io-biodiversity&amp;item=bii_2019_34.74464974521749_-115.38597824385106_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> TileJSON with default rendering</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>roles:</strong> ['tiles']</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>owner:</strong> bii_2019_34.74464974521749_-115.38597824385106_cog</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-rendered-preview-1" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-rendered-preview-1">Asset: Rendered preview</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/preview.png?collection=io-biodiversity&amp;item=bii_2019_34.74464974521749_-115.38597824385106_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> image/png</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> Rendered preview</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>roles:</strong> ['overview']</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>owner:</strong> bii_2019_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>rel:</strong> preview</td>
</tr>
</tbody>
</table>
</section>
</div>
</section>
<section id="links-1" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" data-anchor-id="links-1">Links</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-3" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-3">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> collection</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-4" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-4">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> parent</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-microsoft-planetary-computer-stac-api-1" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-microsoft-planetary-computer-stac-api-1">Link: Microsoft Planetary Computer STAC API</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> root</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Microsoft Planetary Computer STAC API</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-5" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-5">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> self</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity/items/bii_2019_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/geo+json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-map-of-item-1" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-map-of-item-1">Link: Map of item</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> preview</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/map?collection=io-biodiversity&amp;item=bii_2019_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> text/html</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Map of item</td>
</tr>
</tbody>
</table>
</section>
</div>
</section>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #DBF5FF;
        border: 3px solid #4CC9FF;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="item-bii_2018_34.74464974521749_-115.38597824385106_cog" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="item-bii_2018_34.74464974521749_-115.38597824385106_cog">Item: bii_2018_34.74464974521749_-115.38597824385106_cog</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>id:</strong> bii_2018_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>bbox:</strong> [-115.3859782, 27.565314, -108.2066425, 34.7446497]</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>datetime:</strong> None</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>proj:epsg:</strong> 4326</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>proj:shape:</strong> [7992, 7992]</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>end_datetime:</strong> 2018-12-31T23:59:59Z</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>proj:transform:</strong> [0.0008983152841195215, 0.0, -115.38597824385106, 0.0, -0.0008983152841195215, 34.74464974521749, 0.0, 0.0, 1.0]</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>start_datetime:</strong> 2018-01-01T00:00:00Z</td>
</tr>
</tbody>
</table>
<section id="stac-extensions-2" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" data-anchor-id="stac-extensions-2">STAC Extensions</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/projection/v1.0.0/schema.json">https://stac-extensions.github.io/projection/v1.0.0/schema.json</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/raster/v1.1.0/schema.json">https://stac-extensions.github.io/raster/v1.1.0/schema.json</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/version/v1.1.0/schema.json">https://stac-extensions.github.io/version/v1.1.0/schema.json</a></td>
</tr>
</tbody>
</table>
</section>
<section id="assets-2" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;">Assets</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-biodiversity-intactness-2" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-biodiversity-intactness-2">Asset: Biodiversity Intactness</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://pcdata01euw.blob.core.windows.net/impact/bii-v1/bii_2018/bii_2018_34.74464974521749_-115.38597824385106_cog.tif?st=2023-12-12T19%3A43%3A59Z&amp;se=2023-12-20T19%3A43%3A59Z&amp;sp=rl&amp;sv=2021-06-08&amp;sr=c&amp;skoid=c85c15d6-d1ae-42d4-af60-e2ca0f81359b&amp;sktid=72f988bf-86f1-41af-91ab-2d7cd011db47&amp;skt=2023-12-13T19%3A43%3A58Z&amp;ske=2023-12-20T19%3A43%3A58Z&amp;sks=b&amp;skv=2021-06-08&amp;sig=c9o2oldqLDnPtyq050qwnglDu/lRO9wgwdV5GP/OmqQ%3D</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> image/tiff; application=geotiff; profile=cloud-optimized</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> Biodiversity Intactness</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>description:</strong> Terrestrial biodiversity intactness at 100m resolution</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>roles:</strong> ['data']</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>owner:</strong> bii_2018_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>version:</strong> v1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>raster:bands:</strong> [{'sampling': 'area', 'data_type': 'float32', 'spatial_resolution': 100}]</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-tilejson-with-default-rendering-2" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-tilejson-with-default-rendering-2">Asset: TileJSON with default rendering</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/tilejson.json?collection=io-biodiversity&amp;item=bii_2018_34.74464974521749_-115.38597824385106_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> TileJSON with default rendering</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>roles:</strong> ['tiles']</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>owner:</strong> bii_2018_34.74464974521749_-115.38597824385106_cog</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-rendered-preview-2" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-rendered-preview-2">Asset: Rendered preview</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/preview.png?collection=io-biodiversity&amp;item=bii_2018_34.74464974521749_-115.38597824385106_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> image/png</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> Rendered preview</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>roles:</strong> ['overview']</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>owner:</strong> bii_2018_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>rel:</strong> preview</td>
</tr>
</tbody>
</table>
</section>
</div>
</section>
<section id="links-2" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" data-anchor-id="links-2">Links</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-6" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-6">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> collection</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-7" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-7">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> parent</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-microsoft-planetary-computer-stac-api-2" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-microsoft-planetary-computer-stac-api-2">Link: Microsoft Planetary Computer STAC API</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> root</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Microsoft Planetary Computer STAC API</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-8" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-8">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> self</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity/items/bii_2018_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/geo+json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-map-of-item-2" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-map-of-item-2">Link: Map of item</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> preview</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/map?collection=io-biodiversity&amp;item=bii_2018_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> text/html</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Map of item</td>
</tr>
</tbody>
</table>
</section>
</div>
</section>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #DBF5FF;
        border: 3px solid #4CC9FF;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="item-bii_2017_34.74464974521749_-115.38597824385106_cog" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="item-bii_2017_34.74464974521749_-115.38597824385106_cog">Item: bii_2017_34.74464974521749_-115.38597824385106_cog</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>id:</strong> bii_2017_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>bbox:</strong> [-115.3859782, 27.565314, -108.2066425, 34.7446497]</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>datetime:</strong> None</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>proj:epsg:</strong> 4326</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>proj:shape:</strong> [7992, 7992]</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>end_datetime:</strong> 2017-12-31T23:59:59Z</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>proj:transform:</strong> [0.0008983152841195215, 0.0, -115.38597824385106, 0.0, -0.0008983152841195215, 34.74464974521749, 0.0, 0.0, 1.0]</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>start_datetime:</strong> 2017-01-01T00:00:00Z</td>
</tr>
</tbody>
</table>
<section id="stac-extensions-3" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" data-anchor-id="stac-extensions-3">STAC Extensions</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/projection/v1.0.0/schema.json">https://stac-extensions.github.io/projection/v1.0.0/schema.json</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/raster/v1.1.0/schema.json">https://stac-extensions.github.io/raster/v1.1.0/schema.json</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://stac-extensions.github.io/version/v1.1.0/schema.json">https://stac-extensions.github.io/version/v1.1.0/schema.json</a></td>
</tr>
</tbody>
</table>
</section>
<section id="assets-3" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;">Assets</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-biodiversity-intactness-3" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-biodiversity-intactness-3">Asset: Biodiversity Intactness</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://pcdata01euw.blob.core.windows.net/impact/bii-v1/bii_2017/bii_2017_34.74464974521749_-115.38597824385106_cog.tif?st=2023-12-12T19%3A43%3A59Z&amp;se=2023-12-20T19%3A43%3A59Z&amp;sp=rl&amp;sv=2021-06-08&amp;sr=c&amp;skoid=c85c15d6-d1ae-42d4-af60-e2ca0f81359b&amp;sktid=72f988bf-86f1-41af-91ab-2d7cd011db47&amp;skt=2023-12-13T19%3A43%3A58Z&amp;ske=2023-12-20T19%3A43%3A58Z&amp;sks=b&amp;skv=2021-06-08&amp;sig=c9o2oldqLDnPtyq050qwnglDu/lRO9wgwdV5GP/OmqQ%3D</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> image/tiff; application=geotiff; profile=cloud-optimized</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> Biodiversity Intactness</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>description:</strong> Terrestrial biodiversity intactness at 100m resolution</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>roles:</strong> ['data']</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>owner:</strong> bii_2017_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>version:</strong> v1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>raster:bands:</strong> [{'sampling': 'area', 'data_type': 'float32', 'spatial_resolution': 100}]</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-tilejson-with-default-rendering-3" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-tilejson-with-default-rendering-3">Asset: TileJSON with default rendering</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/tilejson.json?collection=io-biodiversity&amp;item=bii_2017_34.74464974521749_-115.38597824385106_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> TileJSON with default rendering</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>roles:</strong> ['tiles']</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>owner:</strong> bii_2017_34.74464974521749_-115.38597824385106_cog</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FED7E5;
        border: 3px solid #FA4C8C;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="asset-rendered-preview-3" class="level3" style="margin-bottom: 0px; display: inline;">
<h3 style="margin-bottom: 0px; display: inline;" data-anchor-id="asset-rendered-preview-3">Asset: Rendered preview</h3>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/preview.png?collection=io-biodiversity&amp;item=bii_2017_34.74464974521749_-115.38597824385106_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>type:</strong> image/png</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>title:</strong> Rendered preview</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>roles:</strong> ['overview']</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>owner:</strong> bii_2017_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>rel:</strong> preview</td>
</tr>
</tbody>
</table>
</section>
</div>
</section>
<section id="links-3" class="level4" style="margin-bottom: 0px; display: inline;">
<h4 style="margin-bottom: 0px; display: inline;" data-anchor-id="links-3">Links</h4>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-9" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-9">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> collection</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-10" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-10">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> parent</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-microsoft-planetary-computer-stac-api-3" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-microsoft-planetary-computer-stac-api-3">Link: Microsoft Planetary Computer STAC API</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> root</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/json</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Microsoft Planetary Computer STAC API</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-11" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-11">Link:</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> self</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/stac/v1/collections/io-biodiversity/items/bii_2017_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> application/geo+json</td>
</tr>
</tbody>
</table>
</section>
</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
<div style="
        width: 24px;
        height: 24px;
        background-color: #FFF7E5;
        border: 3px solid #FF6132;
        border-radius: 5px;
        position: absolute;">

</div>
<section id="link-map-of-item-3" class="level4" style="margin-left: 48px;">
<h4 style="margin-bottom: 0px;" data-anchor-id="link-map-of-item-3">Link: Map of item</h4>
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>rel:</strong> preview</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>href:</strong> https://planetarycomputer.microsoft.com/api/data/v1/item/map?collection=io-biodiversity&amp;item=bii_2017_34.74464974521749_-115.38597824385106_cog</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>type:</strong> text/html</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>title:</strong> Map of item</td>
</tr>
</tbody>
</table>
</section>
</div>
</section>
</section>
</div>

        
    </section></details></div>
</div>
            
        
    
        
    </div>
</div>
                    
                
            
        
    




<div class="cell" data-tags="[]" data-execution_count="101">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get third item in the catalog search as that is for the year 2017</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>item_17 <span class="op">=</span> items[<span class="dv">3</span>]</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(item_17)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="101">
<pre><code>pystac.item.Item</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="102">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#just checking the properties for 2017</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'id:'</span> , item_17.<span class="bu">id</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>item_17.properties</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>id: bii_2017_34.74464974521749_-115.38597824385106_cog</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="102">
<pre><code>{'datetime': None,
 'proj:epsg': 4326,
 'proj:shape': [7992, 7992],
 'end_datetime': '2017-12-31T23:59:59Z',
 'proj:transform': [0.0008983152841195215,
  0.0,
  -115.38597824385106,
  0.0,
  -0.0008983152841195215,
  34.74464974521749,
  0.0,
  0.0,
  1.0],
 'start_datetime': '2017-01-01T00:00:00Z'}</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="103">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#checking the key for items, as we want to pull it out and render it</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key <span class="kw">in</span> item_17.assets.keys():</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(key, <span class="st">'--'</span>, item_17.assets[key].title)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>data -- Biodiversity Intactness
tilejson -- TileJSON with default rendering
rendered_preview -- Rendered preview</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="104">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot rendered preview</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>Image(url<span class="op">=</span>item_17.assets[<span class="st">'rendered_preview'</span>].href, width<span class="op">=</span><span class="dv">500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="104">
<img src="https://planetarycomputer.microsoft.com/api/data/v1/item/preview.png?collection=io-biodiversity&amp;item=bii_2017_34.74464974521749_-115.38597824385106_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png" width="500">
</div>
</div>

<section id="for-year-2020" class="level1">
<h1>for year 2020</h1>
<div class="cell" data-tags="[]" data-execution_count="105">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#and for the year 2020, we want to pull that out</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>item_20 <span class="op">=</span> items[<span class="dv">0</span>]</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(item_20)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="105">
<pre><code>pystac.item.Item</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="106">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#checking its properties</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'id:'</span> , item_20.<span class="bu">id</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>item_20.properties</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>id: bii_2020_34.74464974521749_-115.38597824385106_cog</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="106">
<pre><code>{'datetime': None,
 'proj:epsg': 4326,
 'proj:shape': [7992, 7992],
 'end_datetime': '2020-12-31T23:59:59Z',
 'proj:transform': [0.0008983152841195215,
  0.0,
  -115.38597824385106,
  0.0,
  -0.0008983152841195215,
  34.74464974521749,
  0.0,
  0.0,
  1.0],
 'start_datetime': '2020-01-01T00:00:00Z'}</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="107">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">#figure out the key</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key <span class="kw">in</span> item_20.assets.keys():</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(key, <span class="st">'--'</span>, item_20.assets[key].title)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>data -- Biodiversity Intactness
tilejson -- TileJSON with default rendering
rendered_preview -- Rendered preview</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="108">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot rendered preview</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>Image(url<span class="op">=</span>item_20.assets[<span class="st">'rendered_preview'</span>].href, width<span class="op">=</span><span class="dv">500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="108">
<img src="https://planetarycomputer.microsoft.com/api/data/v1/item/preview.png?collection=io-biodiversity&amp;item=bii_2020_34.74464974521749_-115.38597824385106_cog&amp;assets=data&amp;tile_format=png&amp;colormap_name=io-bii&amp;rescale=0%2C1&amp;expression=0.97%2A%28data_b1%2A%2A3.84%29&amp;format=png" width="500">
</div>
</div>
</section>
<section id="extract" class="level1">
<h1>extract</h1>
<p>time to finally plot and extract data</p>
<div class="cell" data-tags="[]" data-execution_count="109">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#going to extract now the raster for 2017</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>az_17 <span class="op">=</span> rioxr.open_rasterio(item_17.assets[<span class="st">'data'</span>].href)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>az_17</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="109">

<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray (band: 1, y: 7992, x: 7992)&gt;
[63872064 values with dtype=float32]
Coordinates:
  * band         (band) int64 1
  * x            (x) float64 -115.4 -115.4 -115.4 ... -108.2 -108.2 -108.2
  * y            (y) float64 34.74 34.74 34.74 34.74 ... 27.57 27.57 27.57 27.57
    spatial_ref  int64 0
Attributes:
    AREA_OR_POINT:  Area
    scale_factor:   1.0
    add_offset:     0.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name"></div><ul class="xr-dim-list"><li><span class="xr-has-index">band</span>: 1</li><li><span class="xr-has-index">y</span>: 7992</li><li><span class="xr-has-index">x</span>: 7992</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-4c70825d-f3d5-4edb-a296-31dcade49af8" class="xr-array-in" type="checkbox" checked=""><label for="section-4c70825d-f3d5-4edb-a296-31dcade49af8" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>...</span></div><div class="xr-array-data"><pre>[63872064 values with dtype=float32]</pre></div></div></li><li class="xr-section-item"><input id="section-dd91a025-0389-4f6f-b2b0-defa58fb08ed" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-dd91a025-0389-4f6f-b2b0-defa58fb08ed" class="xr-section-summary">Coordinates: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">band</span></div><div class="xr-var-dims">(band)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">1</div><input id="attrs-37e82be2-ed1b-45d1-b05f-2892bf2d9817" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-37e82be2-ed1b-45d1-b05f-2892bf2d9817" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-0139af2c-11b8-421d-a98a-02d30b932a62" class="xr-var-data-in" type="checkbox"><label for="data-0139af2c-11b8-421d-a98a-02d30b932a62" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([1])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">x</span></div><div class="xr-var-dims">(x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-115.4 -115.4 ... -108.2 -108.2</div><input id="attrs-718f4b97-75a3-444e-8b0e-eace00f06b6a" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-718f4b97-75a3-444e-8b0e-eace00f06b6a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-928f59fa-cc22-4878-818b-c2024001eb6d" class="xr-var-data-in" type="checkbox"><label for="data-928f59fa-cc22-4878-818b-c2024001eb6d" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([-115.385529, -115.384631, -115.383732, ..., -108.208888, -108.20799 ,
       -108.207092])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">y</span></div><div class="xr-var-dims">(y)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">34.74 34.74 34.74 ... 27.57 27.57</div><input id="attrs-405e2662-9ec9-4175-b83c-c21a1bf74ca2" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-405e2662-9ec9-4175-b83c-c21a1bf74ca2" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-d14cffae-9819-4fbe-8692-f793a52e6145" class="xr-var-data-in" type="checkbox"><label for="data-d14cffae-9819-4fbe-8692-f793a52e6145" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([34.744201, 34.743302, 34.742404, ..., 27.56756 , 27.566661, 27.565763])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>spatial_ref</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0</div><input id="attrs-ad7745b8-cbf5-45dc-b864-ca08741a0758" class="xr-var-attrs-in" type="checkbox"><label for="attrs-ad7745b8-cbf5-45dc-b864-ca08741a0758" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-1b72615f-548f-44d3-bea5-304c9d1e03ca" class="xr-var-data-in" type="checkbox"><label for="data-1b72615f-548f-44d3-bea5-304c9d1e03ca" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>crs_wkt :</span></dt><dd>GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AXIS["Latitude",NORTH],AXIS["Longitude",EAST],AUTHORITY["EPSG","4326"]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314245179</dd><dt><span>inverse_flattening :</span></dt><dd>298.257223563</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>WGS 84</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>WGS 84</dd><dt><span>horizontal_datum_name :</span></dt><dd>World Geodetic System 1984</dd><dt><span>grid_mapping_name :</span></dt><dd>latitude_longitude</dd><dt><span>spatial_ref :</span></dt><dd>GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AXIS["Latitude",NORTH],AXIS["Longitude",EAST],AUTHORITY["EPSG","4326"]]</dd><dt><span>GeoTransform :</span></dt><dd>-115.38597824385106 0.0008983152841195215 0.0 34.74464974521749 0.0 -0.0008983152841195215</dd></dl></div><div class="xr-var-data"><pre>array(0)</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-ff4c8d9a-4a41-4d1e-877d-2928bfa2e301" class="xr-section-summary-in" type="checkbox"><label for="section-ff4c8d9a-4a41-4d1e-877d-2928bfa2e301" class="xr-section-summary">Indexes: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>band</div></div><div class="xr-index-preview">PandasIndex</div><div></div><input id="index-ab648da8-a692-4675-ad59-1a009ec8fc95" class="xr-index-data-in" type="checkbox"><label for="index-ab648da8-a692-4675-ad59-1a009ec8fc95" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([1], dtype='int64', name='band'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>x</div></div><div class="xr-index-preview">PandasIndex</div><div></div><input id="index-77a9097f-bf5b-4b3c-9c5b-e47d697cfdd5" class="xr-index-data-in" type="checkbox"><label for="index-77a9097f-bf5b-4b3c-9c5b-e47d697cfdd5" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([-115.38552908620899, -115.38463077092487, -115.38373245564075,
       -115.38283414035664, -115.38193582507252,  -115.3810375097884,
       -115.38013919450427, -115.37924087922015, -115.37834256393603,
       -115.37744424865191,
       ...
       -108.21517648836696, -108.21427817308285, -108.21337985779873,
       -108.21248154251461, -108.21158322723049, -108.21068491194637,
       -108.20978659666225, -108.20888828137814, -108.20798996609402,
        -108.2070916508099],
      dtype='float64', name='x', length=7992))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>y</div></div><div class="xr-index-preview">PandasIndex</div><div></div><input id="index-406c8682-3ca2-4537-b509-a5a711f885db" class="xr-index-data-in" type="checkbox"><label for="index-406c8682-3ca2-4537-b509-a5a711f885db" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([ 34.74420058757543,  34.74330227229131,  34.74240395700719,
       34.741505641723066,  34.74060732643895,  34.73970901115483,
        34.73881069587071,  34.73791238058659, 34.737014065302475,
        34.73611575001835,
       ...
        27.57384798973341, 27.572949674449287,  27.57205135916517,
       27.571153043881047,  27.57025472859693,  27.56935641331281,
        27.56845809802869,  27.56755978274457,  27.56666146746045,
        27.56576315217633],
      dtype='float64', name='y', length=7992))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-108b0eb0-d9dc-417d-a44e-fd2d6877c2a5" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-108b0eb0-d9dc-417d-a44e-fd2d6877c2a5" class="xr-section-summary">Attributes: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>AREA_OR_POINT :</span></dt><dd>Area</dd><dt><span>scale_factor :</span></dt><dd>1.0</dd><dt><span>add_offset :</span></dt><dd>0.0</dd></dl></div></li></ul></div></div>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="110">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#also extracting for the year 2020</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>az_20 <span class="op">=</span> rioxr.open_rasterio(item_20.assets[<span class="st">'data'</span>].href)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>az_20</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="110">

<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.DataArray (band: 1, y: 7992, x: 7992)&gt;
[63872064 values with dtype=float32]
Coordinates:
  * band         (band) int64 1
  * x            (x) float64 -115.4 -115.4 -115.4 ... -108.2 -108.2 -108.2
  * y            (y) float64 34.74 34.74 34.74 34.74 ... 27.57 27.57 27.57 27.57
    spatial_ref  int64 0
Attributes:
    AREA_OR_POINT:  Area
    scale_factor:   1.0
    add_offset:     0.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.DataArray</div><div class="xr-array-name"></div><ul class="xr-dim-list"><li><span class="xr-has-index">band</span>: 1</li><li><span class="xr-has-index">y</span>: 7992</li><li><span class="xr-has-index">x</span>: 7992</li></ul></div><ul class="xr-sections"><li class="xr-section-item"><div class="xr-array-wrap"><input id="section-059aad42-7d50-4b2f-b387-ce7a6a7e40d1" class="xr-array-in" type="checkbox" checked=""><label for="section-059aad42-7d50-4b2f-b387-ce7a6a7e40d1" title="Show/hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-array-preview xr-preview"><span>...</span></div><div class="xr-array-data"><pre>[63872064 values with dtype=float32]</pre></div></div></li><li class="xr-section-item"><input id="section-25819dc5-45f3-4a6c-af8e-175668d5d2e8" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-25819dc5-45f3-4a6c-af8e-175668d5d2e8" class="xr-section-summary">Coordinates: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">band</span></div><div class="xr-var-dims">(band)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">1</div><input id="attrs-37093f7b-6354-4d4e-9510-a43d28b82670" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-37093f7b-6354-4d4e-9510-a43d28b82670" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-4acbbf9a-dad5-4844-8043-aa740af741b8" class="xr-var-data-in" type="checkbox"><label for="data-4acbbf9a-dad5-4844-8043-aa740af741b8" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([1])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">x</span></div><div class="xr-var-dims">(x)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-115.4 -115.4 ... -108.2 -108.2</div><input id="attrs-c538755a-7685-4d05-8218-681bf714bbb8" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-c538755a-7685-4d05-8218-681bf714bbb8" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ebab0c4a-28e6-48e2-996b-fe45d8b10439" class="xr-var-data-in" type="checkbox"><label for="data-ebab0c4a-28e6-48e2-996b-fe45d8b10439" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([-115.385529, -115.384631, -115.383732, ..., -108.208888, -108.20799 ,
       -108.207092])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">y</span></div><div class="xr-var-dims">(y)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">34.74 34.74 34.74 ... 27.57 27.57</div><input id="attrs-0d5b33ec-ab6a-47af-a749-35a331a78c49" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-0d5b33ec-ab6a-47af-a749-35a331a78c49" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-13ec5d29-e8b5-45d7-9659-66883a8ef1a5" class="xr-var-data-in" type="checkbox"><label for="data-13ec5d29-e8b5-45d7-9659-66883a8ef1a5" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([34.744201, 34.743302, 34.742404, ..., 27.56756 , 27.566661, 27.565763])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>spatial_ref</span></div><div class="xr-var-dims">()</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0</div><input id="attrs-a5e3bc7d-ec72-40a8-b4e1-6e6879db77a8" class="xr-var-attrs-in" type="checkbox"><label for="attrs-a5e3bc7d-ec72-40a8-b4e1-6e6879db77a8" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-7fdf3797-f101-436a-9f57-ec412817c16b" class="xr-var-data-in" type="checkbox"><label for="data-7fdf3797-f101-436a-9f57-ec412817c16b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"><dt><span>crs_wkt :</span></dt><dd>GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AXIS["Latitude",NORTH],AXIS["Longitude",EAST],AUTHORITY["EPSG","4326"]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314245179</dd><dt><span>inverse_flattening :</span></dt><dd>298.257223563</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>WGS 84</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>WGS 84</dd><dt><span>horizontal_datum_name :</span></dt><dd>World Geodetic System 1984</dd><dt><span>grid_mapping_name :</span></dt><dd>latitude_longitude</dd><dt><span>spatial_ref :</span></dt><dd>GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AXIS["Latitude",NORTH],AXIS["Longitude",EAST],AUTHORITY["EPSG","4326"]]</dd><dt><span>GeoTransform :</span></dt><dd>-115.38597824385106 0.0008983152841195215 0.0 34.74464974521749 0.0 -0.0008983152841195215</dd></dl></div><div class="xr-var-data"><pre>array(0)</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-3bcaa8ca-90cc-4b10-ac0a-e3d5de793562" class="xr-section-summary-in" type="checkbox"><label for="section-3bcaa8ca-90cc-4b10-ac0a-e3d5de793562" class="xr-section-summary">Indexes: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>band</div></div><div class="xr-index-preview">PandasIndex</div><div></div><input id="index-ff0df269-3f99-4998-8fbe-616dfd1b9b23" class="xr-index-data-in" type="checkbox"><label for="index-ff0df269-3f99-4998-8fbe-616dfd1b9b23" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([1], dtype='int64', name='band'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>x</div></div><div class="xr-index-preview">PandasIndex</div><div></div><input id="index-1d297d6d-32bc-43ce-85cd-8f149b52d0f2" class="xr-index-data-in" type="checkbox"><label for="index-1d297d6d-32bc-43ce-85cd-8f149b52d0f2" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([-115.38552908620899, -115.38463077092487, -115.38373245564075,
       -115.38283414035664, -115.38193582507252,  -115.3810375097884,
       -115.38013919450427, -115.37924087922015, -115.37834256393603,
       -115.37744424865191,
       ...
       -108.21517648836696, -108.21427817308285, -108.21337985779873,
       -108.21248154251461, -108.21158322723049, -108.21068491194637,
       -108.20978659666225, -108.20888828137814, -108.20798996609402,
        -108.2070916508099],
      dtype='float64', name='x', length=7992))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>y</div></div><div class="xr-index-preview">PandasIndex</div><div></div><input id="index-ae84dbd9-0472-49ec-ac78-6a26a55303fa" class="xr-index-data-in" type="checkbox"><label for="index-ae84dbd9-0472-49ec-ac78-6a26a55303fa" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([ 34.74420058757543,  34.74330227229131,  34.74240395700719,
       34.741505641723066,  34.74060732643895,  34.73970901115483,
        34.73881069587071,  34.73791238058659, 34.737014065302475,
        34.73611575001835,
       ...
        27.57384798973341, 27.572949674449287,  27.57205135916517,
       27.571153043881047,  27.57025472859693,  27.56935641331281,
        27.56845809802869,  27.56755978274457,  27.56666146746045,
        27.56576315217633],
      dtype='float64', name='y', length=7992))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-14207d25-27fa-4ac6-bef7-0ccfe3216991" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-14207d25-27fa-4ac6-bef7-0ccfe3216991" class="xr-section-summary">Attributes: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>AREA_OR_POINT :</span></dt><dd>Area</dd><dt><span>scale_factor :</span></dt><dd>1.0</dd><dt><span>add_offset :</span></dt><dd>0.0</dd></dl></div></li></ul></div></div>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="111">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Since there is only one band, we want to squeeze and remove both for 2017 and 2020, since it will just be in the way</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co"># remove length 1 dimension (band)</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>az_17 <span class="op">=</span> az_17.squeeze().drop(<span class="st">'band'</span>)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>az_20 <span class="op">=</span> az_20.squeeze().drop(<span class="st">'band'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="112">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># But i have to remember that I want this clipped, so that the raster will show up quicker</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>az_17 <span class="op">=</span> az_17.rio.clip_box(<span class="op">*</span>phoenix.total_bounds)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>az_20 <span class="op">=</span> az_20.rio.clip_box(<span class="op">*</span>phoenix.total_bounds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="113">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>az_17.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="113">
<pre><code>&lt;matplotlib.collections.QuadMesh at 0x7281653a69d0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-26-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="114">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>az_20.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="114">
<pre><code>&lt;matplotlib.collections.QuadMesh at 0x7281648cfb90&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-27-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="question-2" class="level1">
<h1>Question 2</h1>
<div class="cell" data-tags="[]" data-execution_count="115">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#now I want to make a map of Arizona in geographical context</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>az_17.plot(ax <span class="op">=</span> ax,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>                cmap <span class="op">=</span> <span class="st">'Greens'</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>               )</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>phoenix.plot(ax <span class="op">=</span> ax,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>             color <span class="op">=</span> <span class="st">'none'</span>,</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>             edgecolor <span class="op">=</span> <span class="st">'red'</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a><span class="co">#title and make it prettier!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="115">
<pre><code>&lt;Axes: title={'center': 'spatial_ref = 0'}, xlabel='longitude [degrees_east]', ylabel='latitude [degrees_north]'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-28-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="for-question-3-map-of-phoenix" class="level1">
<h1>For Question 3: map of Phoenix</h1>
<div class="cell" data-tags="[]" data-execution_count="116">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co">#make a mask first</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> xarray <span class="im">as</span> xr</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> rioxarray <span class="im">as</span> rioxr</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># create raster mask based on  polygon</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>phoenix_mask <span class="op">=</span> rasterize(shapes <span class="op">=</span> [phoenix.loc[<span class="dv">10</span>, <span class="st">'geometry'</span>]],  <span class="co"># a list of geometries</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>                        out_shape <span class="op">=</span> az_20.shape,           <span class="co"># shape of outout np array (shape of raster)</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>                        transform <span class="op">=</span> az_20.rio.transform(), <span class="co"># transformation of raster ## change CRS and drop and squeeze# original dimensions and coordinates</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>                        all_touched <span class="op">=</span> <span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="117">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#view that my mask worked out</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>plt.imshow(phoenix_mask)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="117">
<pre><code>&lt;matplotlib.image.AxesImage at 0x7281653e2cd0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-30-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="118">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#going to apply my mask to my raster now</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>phoenix_bii_20 <span class="op">=</span> az_20 <span class="op">*</span> phoenix_mask</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>phoenix_bii_17 <span class="op">=</span> az_17 <span class="op">*</span> phoenix_mask</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="119">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>phoenix_bii_20.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="119">
<pre><code>&lt;matplotlib.collections.QuadMesh at 0x72816483a410&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-32-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="120">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>phoenix_bii_17.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="120">
<pre><code>&lt;matplotlib.collections.QuadMesh at 0x7281645b4190&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-33-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="121">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Just going to remove the noise outside the raster data that i dont want</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>phoenix_bii_20 <span class="op">=</span> phoenix_bii_20.where(phoenix_bii_20 <span class="op">!=</span> <span class="dv">0</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>phoenix_bii_20.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="121">
<pre><code>&lt;matplotlib.collections.QuadMesh at 0x728164691590&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-34-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="122">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#same process with 2017</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>phoenix_bii_17 <span class="op">=</span> phoenix_bii_17.where(phoenix_bii_17 <span class="op">!=</span> <span class="dv">0</span>)</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>phoenix_bii_17.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="122">
<pre><code>&lt;matplotlib.collections.QuadMesh at 0x728164574810&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-35-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="123">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#now calculating where the BII is above 75 for 2020</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>phoenix_bii_2020<span class="op">=</span>phoenix_bii_20 <span class="op">&gt;=</span> <span class="fl">.75</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>phoenix_bii_2020.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="123">
<pre><code>&lt;matplotlib.collections.QuadMesh at 0x7281644023d0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-36-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="124">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">#same for 2017</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>phoenix_bii_2017<span class="op">=</span>phoenix_bii_17 <span class="op">&gt;=</span> <span class="fl">.75</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>phoenix_bii_2017.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="124">
<pre><code>&lt;matplotlib.collections.QuadMesh at 0x728164313110&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-37-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="137">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#percentage area for 2020 and 2017: first need to convert boolean to int</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>phoenix_bii_2020 <span class="op">=</span> phoenix_bii_2020.astype(<span class="st">'int64'</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>phoenix_bii_2017 <span class="op">=</span> phoenix_bii_2017.astype(<span class="st">'int64'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="211">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#now finding the percentage here</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="co">#(pixels in class)/(total pixels) * 100</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>Phoenix_bii_2020_per <span class="op">=</span> (phoenix_bii_2020.<span class="bu">sum</span>().item()<span class="op">/</span>phoenix_mask.<span class="bu">sum</span>().item()) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>Phoenix_bii_2017_per <span class="op">=</span> (phoenix_bii_2017.<span class="bu">sum</span>().item()<span class="op">/</span>phoenix_mask.<span class="bu">sum</span>().item()) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(Phoenix_bii_2017_per)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(Phoenix_bii_2020_per)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>7.1168424110981645
6.483516806019822</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="244">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co">#subtracting to find the difference</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>Phoenix_bii_2020_per <span class="op">-</span> Phoenix_bii_2017_per</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="244">
<pre><code>-0.6333256050783422</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="245">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>phoenix_bii_change <span class="op">=</span> phoenix_bii_2017 <span class="op">-</span> phoenix_bii_2020</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>phoenix_bii_diff <span class="op">=</span> phoenix_bii_change.where(phoenix_bii_change <span class="op">==</span> <span class="dv">1</span>)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>phoenix_bii_diff.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="245">
<pre><code>&lt;matplotlib.collections.QuadMesh at 0x728148522350&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-41-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="246">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co">#final final map</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>phoenix_bii_20.plot(ax <span class="op">=</span> ax,</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>                    cmap <span class="op">=</span> <span class="st">'Greens'</span>    </span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>phoenix.plot(ax <span class="op">=</span> ax,</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>             color <span class="op">=</span> <span class="st">'none'</span>,</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>             edgecolor <span class="op">=</span> <span class="st">'black'</span></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>phoenix_bii_diff.plot(ax <span class="op">=</span> ax,</span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>                        cmap <span class="op">=</span> <span class="st">'autumn'</span>,</span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>                        add_colorbar <span class="op">=</span> <span class="va">False</span></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>                       )</span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>red_patch <span class="op">=</span> mpatches.Patch(color<span class="op">=</span><span class="st">'darkorange'</span>,</span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>                           label<span class="op">=</span><span class="st">'Area with BII ≥ 0.75 lost from 2017 to 2020'</span>)</span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>plt.axis(<span class="st">'off'</span>)</span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a>ax.legend(handles<span class="op">=</span>[red_patch], frameon<span class="op">=</span><span class="va">False</span>, loc <span class="op">=</span> (<span class="fl">0.10</span>, <span class="op">-</span><span class="fl">0.20</span>))</span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Biodiversity Intactness Index - Phoenix Division'</span>)</span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Final_biodiversity_analysis_files/figure-html/cell-42-output-1.png" class="img-fluid"></p>
</div>
</div>


</section>

 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
 <!-- /content -->



</body></html>